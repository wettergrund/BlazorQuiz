@page "/myquizzes"
@using BlazorQuiz.Shared.ViewModels
@inject HttpClient _http

<h3>UserCreatedQuizComponent</h3>

<div>
    <ul>
    @foreach (var item in createdQuizList)
    {
            <li><MudLink Href='@string.Format("/myquizzes/{0}", item.PublicId)' Color=Color.Inherit Underline="Underline.None">@item.Name</MudLink></li>
    }
    </ul>
</div>

@code {
    List<UserCreatedQuizViewModel>? createdQuizList = new List<UserCreatedQuizViewModel>();

    protected override async Task OnInitializedAsync()
    {
        var response = await _http.GetAsync("mygames");
        createdQuizList = await response.Content.ReadFromJsonAsync<List<UserCreatedQuizViewModel>>();
    }

}
